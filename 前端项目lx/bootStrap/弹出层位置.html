<!DOCTYPE html>
<html>
<head>
    <title></title>
    <script src="content/js/jquery-1.10.2.min.js"></script>
    <style>
        #dialog{background-color:darkseagreen;height:200px;}
    </style>
	<meta charset="utf-8" />
</head>
<body>

    <div style="position:absolute;left:650px;bottom:350px;background-color:#eee;height:30px; width:200px;">
        <button id="btnleft" class="btn">点击弹层</button>
    </div>

    <div style="position:absolute;left:50px;bottom:50px;background-color:#eee;height:30px; width:200px;">
        <button id="btnleft" class="btn">点击弹层</button>
    </div>

    <div style="position:absolute;right:50px;bottom:50px;background-color:#eee;height:30px; width:50px;">
        <button id="btnright" class="btn">点击弹层</button>
    </div>

    <div id="dialog" style="position:absolute;border-bottom:5px solid red; opacity:0.5;">
        <ul>
            <li>sdfadfasfda</li>
            <li>sdfadfasfda</li>
            <li>sdfadfasfda</li>
            <li>sdfadfasfda</li>
            <li>sdfadfasfda</li>
            <li>sdfadfasfda</li>
            <li>sdfadfasfda</li>
        </ul>
    </div>
    <script>
        $(function () {
            $(".btn").click(function () {
                var selfwidth = $(this).width();
                var selfheight = $(this).height();

                var top = $(this).offset().top;
                var windowheight = $(window).height();
                var dialogheight = $("#dialog").height();

                var left = $(this).offset().left;
                var windowwidth = $(window).width();
                var dialogwidth = $("#dialog").width();

                var y = top+selfheight;
                var x = left;

                if (windowheight - top - selfheight < dialogheight) {//弹窗不能正常显示
                    console.log(top);
                    $("#dialog").css({ 'bottom': windowheight - top });
                } else {
                    $("#dialog").css({ 'top': y });
                }

                if (windowwidth - left < dialogwidth) {
                    $("#dialog").css({ 'right': '0' });
                } else {
                    $("#dialog").css({ 'left': x });
                }

            });
        });
    </script>
</body>
</html>
